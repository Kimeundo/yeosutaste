<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>여수 통합 가이드 - 맛집 · 관광지 · 관리자 시스템</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .filter-active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .admin-panel {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl font-bold mb-2">🍽️ 여수 통합 가이드</h1>
            <p class="text-lg opacity-90">6월 실시간 인기순 · 맛집 & 관광지 · 플러스 관리 부팅</p>
            <div class="mt-6 flex justify-center space-x-4">
                <button onclick="showSection('restaurants')" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-2 rounded-full transition">
                    🍴 맛집 안내
                </button>
                <button onclick="showSection('attractions')" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-2 rounded-full transition">
                    🏛️ 관광지 안내
                </button>
                <button onclick="showSection('course')" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-2 rounded-full transition">
                    🗺️ 여행 코스
                </button>
                <button onclick="showSection('community')" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-2 rounded-full transition">
                    💬 커뮤니티
                </button>
                <button onclick="toggleAdmin()" class="bg-red-500 bg-opacity-70 hover:bg-opacity-90 px-6 py-2 rounded-full transition">
                    ⚙️ 관리자
                </button>
            </div>
        </div>
    </header>

    <!-- Stats Dashboard -->
    <div class="container mx-auto px-4 py-8">
        <div class="text-center mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">📊 6월 실시간 트렌드</h2>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-lg p-6 shadow-lg text-center">
                <div class="text-3xl font-bold text-blue-600">80+</div>
                <div class="text-gray-600">등록된 맛집</div>
                <div class="text-blue-500 text-sm">🍽️</div>
            </div>
            <div class="bg-white rounded-lg p-6 shadow-lg text-center">
                <div class="text-3xl font-bold text-green-600">50+</div>
                <div class="text-gray-600">관광 명소</div>
                <div class="text-green-500 text-sm">🏛️</div>
            </div>
            <div class="bg-white rounded-lg p-6 shadow-lg text-center">
                <div class="text-3xl font-bold text-purple-600">4.7</div>
                <div class="text-gray-600">평균 평점</div>
                <div class="text-yellow-500 text-sm">⭐</div>
            </div>
            <div class="bg-white rounded-lg p-6 shadow-lg text-center">
                <div class="text-3xl font-bold text-red-600">15</div>
                <div class="text-gray-600">추천 코스</div>
                <div class="text-red-500 text-sm">🎯</div>
            </div>
        </div>
    </div>

    <!-- Restaurants Section -->
    <div id="restaurants-section" class="container mx-auto px-4 mb-8">
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold mb-4">🔍 스마트 필터링</h3>
            
            <!-- Filters -->
            <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-6">
                <select id="category-filter" class="border rounded px-3 py-2">
                    <option value="전체">전체</option>
                    <option value="게장백반">게장백반</option>
                    <option value="갈치조림">갈치조림</option>
                    <option value="해산물">해산물</option>
                    <option value="카페">카페</option>
                    <option value="기타">기타</option>
                </select>
                
                <select id="price-filter" class="border rounded px-3 py-2">
                    <option value="전체">가격대</option>
                    <option value="1만원 이하">1만원 이하</option>
                    <option value="1-2만원">1-2만원</option>
                    <option value="2-3만원">2-3만원</option>
                    <option value="3만원 이상">3만원 이상</option>
                </select>
                
                <select id="rating-filter" class="border rounded px-3 py-2">
                    <option value="전체">평점</option>
                    <option value="4.5+">4.5+ ⭐⭐⭐⭐⭐</option>
                    <option value="4.0+">4.0+ ⭐⭐⭐⭐</option>
                    <option value="3.5+">3.5+ ⭐⭐⭐</option>
                </select>
                
                <select id="area-filter" class="border rounded px-3 py-2">
                    <option value="전체">지역</option>
                    <option value="시내">시내</option>
                    <option value="돌산">돌산</option>
                    <option value="소호동">소호동</option>
                    <option value="웅천">웅천</option>
                </select>
                
                <select id="sort-filter" class="border rounded px-3 py-2">
                    <option value="인기순">인기순</option>
                    <option value="평점순">평점순</option>
                    <option value="리뷰순">리뷰순</option>
                    <option value="가격순">가격순</option>
                </select>
            </div>
            
            <!-- Search Bar -->
            <div class="mb-6">
                <input type="text" id="search-input" placeholder="맛집명, 메뉴, 지역으로 검색..." class="w-full border rounded-lg px-4 py-3 text-lg">
            </div>
            
            <!-- Restaurant List -->
            <div id="restaurant-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Restaurants will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Attractions Section -->
    <div id="attractions-section" class="container mx-auto px-4 mb-8" style="display: none;">
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold mb-4">🏛️ 여수 관광지 가이드</h3>
            
            <!-- Attraction Filters -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                <select id="attraction-category-filter" class="border rounded px-3 py-2">
                    <option value="전체">전체</option>
                    <option value="자연관광">자연관광</option>
                    <option value="문화유적">문화유적</option>
                    <option value="체험시설">체험시설</option>
                    <option value="해수욕장">해수욕장</option>
                </select>
                
                <select id="attraction-time-filter" class="border rounded px-3 py-2">
                    <option value="전체">소요시간</option>
                    <option value="1시간 이내">1시간 이내</option>
                    <option value="2-3시간">2-3시간</option>
                    <option value="반나절">반나절</option>
                    <option value="하루종일">하루종일</option>
                </select>
                
                <select id="attraction-area-filter" class="border rounded px-3 py-2">
                    <option value="전체">지역</option>
                    <option value="시내">시내</option>
                    <option value="돌산">돌산</option>
                    <option value="거문도">거문도</option>
                    <option value="기타">기타</option>
                </select>
                
                <select id="attraction-sort-filter" class="border rounded px-3 py-2">
                    <option value="인기순">인기순</option>
                    <option value="평점순">평점순</option>
                    <option value="거리순">거리순</option>
                </select>
            </div>
            
            <!-- Attraction List -->
            <div id="attraction-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Attractions will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Course Section -->
    <div id="course-section" class="container mx-auto px-4 mb-8" style="display: none;">
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold mb-4">🗺️ 1박2일 여행 코스 추천</h3>
            
            <!-- Course Generator -->
            <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                <h4 class="font-bold mb-3">🎯 맞춤 코스 생성</h4>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <select id="trip-type" class="border rounded px-3 py-2">
                        <option value="가족여행">가족여행</option>
                        <option value="연인여행">연인여행</option>
                        <option value="친구여행">친구여행</option>
                        <option value="혼자여행">혼자여행</option>
                    </select>
                    
                    <select id="budget-range" class="border rounded px-3 py-2">
                        <option value="경제형">경제형 (5만원)</option>
                        <option value="일반형">일반형 (10만원)</option>
                        <option value="프리미엄">프리미엄 (20만원)</option>
                    </select>
                    
                    <select id="trip-style" class="border rounded px-3 py-2">
                        <option value="맛집투어">맛집투어</option>
                        <option value="관광위주">관광위주</option>
                        <option value="균형형">균형형</option>
                    </select>
                    
                    <button onclick="generateCourse()" class="btn-primary text-white px-4 py-2 rounded hover:opacity-90">
                        코스 생성
                    </button>
                </div>
            </div>
            
            <!-- Course Display -->
            <div id="course-display" class="space-y-6">
                <!-- Courses will be generated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Community Section -->
    <div id="community-section" class="container mx-auto px-4 mb-8" style="display: none;">
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold mb-4">💬 맛집 정보 공유</h3>
            
            <!-- Post Form -->
            <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                <h4 class="font-bold mb-3">새 글 작성</h4>
                <div class="space-y-3">
                    <input type="text" id="post-title" placeholder="제목을 입력하세요" class="w-full border rounded px-3 py-2">
                    <select id="post-category" class="border rounded px-3 py-2">
                        <option value="새 맛집 발견">새 맛집 발견</option>
                        <option value="맛집 후기">맛집 후기</option>
                        <option value="숨은 맛집 추천">숨은 맛집 추천</option>
                        <option value="개선 제안">개선 제안</option>
                    </select>
                    <textarea id="post-content" placeholder="내용을 입력하세요" class="w-full border rounded px-3 py-2 h-32"></textarea>
                    <div class="flex space-x-3">
                        <input type="text" id="restaurant-name" placeholder="맛집 이름" class="flex-1 border rounded px-3 py-2">
                        <select id="rating" class="border rounded px-3 py-2">
                            <option value="5">⭐⭐⭐⭐⭐</option>
                            <option value="4">⭐⭐⭐⭐</option>
                            <option value="3">⭐⭐⭐</option>
                            <option value="2">⭐⭐</option>
                            <option value="1">⭐</option>
                        </select>
                        <button onclick="submitPost()" class="btn-primary text-white px-6 py-2 rounded">게시</button>
                    </div>
                </div>
            </div>
            
            <!-- Posts List -->
            <div id="posts-list" class="space-y-4">
                <!-- Posts will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="admin-panel" class="fixed inset-0 z-50 admin-panel" style="display: none;">
        <div class="container mx-auto px-4 py-8 max-w-4xl">
            <div class="bg-white rounded-lg shadow-xl p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold">⚙️ 관리자 패널</h2>
                    <button onclick="toggleAdmin()" class="text-red-500 hover:text-red-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <!-- Admin Tabs -->
                <div class="flex space-x-4 mb-6">
                    <button onclick="showAdminTab('restaurants-admin')" class="admin-tab-btn active px-4 py-2 rounded bg-blue-500 text-white">
                        맛집 관리
                    </button>
                    <button onclick="showAdminTab('attractions-admin')" class="admin-tab-btn px-4 py-2 rounded bg-gray-300">
                        관광지 관리
                    </button>
                    <button onclick="showAdminTab('categories-admin')" class="admin-tab-btn px-4 py-2 rounded bg-gray-300">
                        카테고리 관리
                    </button>
                    <button onclick="showAdminTab('stats-admin')" class="admin-tab-btn px-4 py-2 rounded bg-gray-300">
                        통계 관리
                    </button>
                </div>
                
                <!-- Restaurant Admin -->
                <div id="restaurants-admin" class="admin-content">
                    <h3 class="text-lg font-bold mb-4">맛집 데이터 관리</h3>
                    <div class="mb-4">
                        <button onclick="showAddForm('restaurant')" class="btn-primary text-white px-4 py-2 rounded">
                            + 새 맛집 추가
                        </button>
                    </div>
                    <div id="restaurant-admin-list" class="space-y-2 max-h-96 overflow-y-auto">
                        <!-- Admin restaurant list -->
                    </div>
                </div>
                
                <!-- Attraction Admin -->
                <div id="attractions-admin" class="admin-content" style="display: none;">
                    <h3 class="text-lg font-bold mb-4">관광지 데이터 관리</h3>
                    <div class="mb-4">
                        <button onclick="showAddForm('attraction')" class="btn-primary text-white px-4 py-2 rounded">
                            + 새 관광지 추가
                        </button>
                    </div>
                    <div id="attraction-admin-list" class="space-y-2 max-h-96 overflow-y-auto">
                        <!-- Admin attraction list -->
                    </div>
                </div>
                
                <!-- Categories Admin -->
                <div id="categories-admin" class="admin-content" style="display: none;">
                    <h3 class="text-lg font-bold mb-4">카테고리 관리</h3>
                    <div class="grid grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-bold mb-2">맛집 카테고리</h4>
                            <div id="restaurant-categories" class="space-y-2">
                                <!-- Categories will be listed here -->
                            </div>
                        </div>
                        <div>
                            <h4 class="font-bold mb-2">관광지 카테고리</h4>
                            <div id="attraction-categories" class="space-y-2">
                                <!-- Categories will be listed here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Stats Admin -->
                <div id="stats-admin" class="admin-content" style="display: none;">
                    <h3 class="text-lg font-bold mb-4">통계 대시보드</h3>
                    <div class="grid grid-cols-2 gap-6">
                        <div>
                            <canvas id="categoryChart" width="400" height="200"></canvas>
                        </div>
                        <div>
                            <canvas id="ratingChart" width="400" height="200"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Form Modal -->
    <div id="form-modal" class="fixed inset-0 z-60 bg-black bg-opacity-50" style="display: none;">
        <div class="flex items-center justify-center min-h-screen px-4">
            <div class="bg-white rounded-lg p-6 w-full max-w-md">
                <div class="flex justify-between items-center mb-4">
                    <h3 id="form-title" class="text-lg font-bold">새 항목 추가</h3>
                    <button onclick="closeForm()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <form id="item-form" class="space-y-4">
                    <!-- Form fields will be populated by JavaScript -->
                </form>
                <div class="flex space-x-3 mt-6">
                    <button type="button" onclick="saveItem()" class="flex-1 btn-primary text-white py-2 rounded">저장</button>
                    <button type="button" onclick="closeForm()" class="flex-1 bg-gray-300 py-2 rounded">취소</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data Storage
        let restaurants = [
            {
                id: 1,
                name: "순이네밥상",
                category: "게장백반",
                price: "1-2만원",
                rating: 4.9,
                reviews: 834,
                area: "시내",
                address: "전남 여수시 통제영5길 5",
                phone: "061-662-****",
                hours: "09:30-21:00",
                description: "네이버 플레이스 1위! 푸짐한 게장백반과 갈치조림이 유명한 현지인 맛집",
                image: "🍽️",
                trending: true
            },
            {
                id: 2,
                name: "로타리식당",
                category: "게장백반",
                price: "1만원 이하",
                rating: 4.3,
                reviews: 956,
                area: "시내",
                address: "전남 여수시 서교3길 2-1",
                phone: "061-642-****",
                hours: "08:00-20:00",
                description: "구글 평점 1위! 30년 전통의 가성비 최고 백반집",
                image: "🍽️",
                trending: true
            },
            {
                id: 3,
                name: "꽃돌게장1번가",
                category: "게장백반",
                price: "3만원 이상",
                rating: 4.7,
                reviews: 1247,
                area: "시내",
                address: "전남 여수시 봉산2로 36",
                phone: "0507-1395-****",
                hours: "10:00-21:30",
                description: "다이닝코드 1위! 꽃게정식과 무한리필 게장으로 유명",
                image: "🦀",
                trending: true
            },
            {
                id: 4,
                name: "정다운식당",
                category: "게장백반",
                price: "2-3만원",
                rating: 4.2,
                reviews: 723,
                area: "돌산",
                address: "전남 여수시 돌산읍 마상포길 12",
                phone: "0507-1349-****",
                hours: "10:00-21:00",
                description: "35년 전통의 오션뷰 게장맛집. 암꽃게장과 꽃게탕이 일품",
                image: "🌊",
                trending: false
            },
            {
                id: 5,
                name: "여수당",
                category: "카페",
                price: "1만원 이하",
                rating: 4.8,
                reviews: 423,
                area: "시내",
                address: "전남 여수시 중앙동",
                phone: "061-***-****",
                hours: "10:00-22:00",
                description: "쑥아이스크림과 쑥초콜릿으로 유명한 여수 대표 디저트 카페",
                image: "🍦",
                trending: true
            }
        ];

        let attractions = [
            {
                id: 1,
                name: "아쿠아플라넷 여수",
                category: "체험시설",
                time: "2-3시간",
                rating: 4.5,
                reviews: 2834,
                area: "시내",
                address: "전남 여수시 오동도로 61-11",
                price: "성인 39,000원",
                description: "국내 2위 규모의 아쿠아리움. 벨루가, 바이칼물범 등 다양한 해양생물 관람",
                image: "🐋",
                trending: true
            },
            {
                id: 2,
                name: "여수해상케이블카",
                category: "체험시설",
                time: "1시간 이내",
                rating: 4.0,
                reviews: 1523,
                area: "돌산",
                address: "전남 여수시 돌산읍 돌산로 3600-1",
                price: "성인 22,000원",
                description: "바다 위를 가로지르는 케이블카. 여수 전경과 다도해 절경 감상",
                image: "🚡",
                trending: true
            },
            {
                id: 3,
                name: "오동도",
                category: "자연관광",
                time: "2-3시간",
                rating: 4.7,
                reviews: 3456,
                area: "시내",
                address: "전남 여수시 오동도로 222",
                price: "무료",
                description: "동백꽃으로 유명한 여수 대표 관광지. 산책로와 등대, 음악분수 운영",
                image: "🌺",
                trending: true
            },
            {
                id: 4,
                name: "이순신광장",
                category: "문화유적",
                time: "1시간 이내",
                rating: 4.5,
                reviews: 987,
                area: "시내",
                address: "전남 여수시 중앙로",
                price: "무료",
                description: "이순신 동상과 진남관이 있는 역사문화 광장. 각종 축제와 행사 개최",
                image: "⚓",
                trending: false
            },
            {
                id: 5,
                name: "향일암",
                category: "문화유적",
                time: "반나절",
                rating: 4.6,
                reviews: 1876,
                area: "돌산",
                address: "전남 여수시 돌산읍 율림리",
                price: "무료",
                description: "해돋이 명소로 유명한 관음사의 부속암자. 바위틈에 자리잡은 독특한 구조",
                image: "🌅",
                trending: true
            }
        ];

        let categories = {
            restaurant: ["게장백반", "갈치조림", "해산물", "카페", "기타"],
            attraction: ["자연관광", "문화유적", "체험시설", "해수욕장"]
        };

        let posts = [
            {
                id: 1,
                title: "돌산에서 새로 발견한 숨은 해물찜 맛집!",
                category: "새 맛집 발견",
                author: "여행러버",
                content: "돌산 우두리에 새로 오픈한 해물찜 전문점 다녀왔어요. 킹크랩이 진짜 실하고 양념도 적당히 매콤해서 좋았습니다.",
                restaurant: "바다향 해물찜",
                rating: 5,
                date: "2025-06-08",
                likes: 23
            },
            {
                id: 2,
                title: "로타리식당 재방문 후기",
                category: "맛집 후기",
                author: "맛집헌터",
                content: "여전히 가성비 최고네요. 게장이 짜지 않고 밑반찬도 정말 맛있어요. 현지인들이 많이 오는 이유를 알겠습니다.",
                restaurant: "로타리식당",
                rating: 4,
                date: "2025-06-07",
                likes: 45
            }
        ];

        // Current state
        let currentSection = 'restaurants';
        let isAdminMode = false;
        let editingItem = null;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderRestaurants();
            renderAttractions();
            renderPosts();
            setupEventListeners();
        });

        function setupEventListeners() {
            // Filter listeners
            document.getElementById('category-filter').addEventListener('change', renderRestaurants);
            document.getElementById('price-filter').addEventListener('change', renderRestaurants);
            document.getElementById('rating-filter').addEventListener('change', renderRestaurants);
            document.getElementById('area-filter').addEventListener('change', renderRestaurants);
            document.getElementById('sort-filter').addEventListener('change', renderRestaurants);
            document.getElementById('search-input').addEventListener('input', renderRestaurants);

            // Attraction filters
            document.getElementById('attraction-category-filter').addEventListener('change', renderAttractions);
            document.getElementById('attraction-time-filter').addEventListener('change', renderAttractions);
            document.getElementById('attraction-area-filter').addEventListener('change', renderAttractions);
            document.getElementById('attraction-sort-filter').addEventListener('change', renderAttractions);
        }

        function showSection(section) {
            // Hide all sections
            document.getElementById('restaurants-section').style.display = 'none';
            document.getElementById('attractions-section').style.display = 'none';
            document.getElementById('course-section').style.display = 'none';
            document.getElementById('community-section').style.display = 'none';

            // Show selected section
            document.getElementById(section + '-section').style.display = 'block';
            currentSection = section;
        }

        function renderRestaurants() {
            const container = document.getElementById('restaurant-list');
            let filteredRestaurants = [...restaurants];

            // Apply filters
            const categoryFilter = document.getElementById('category-filter').value;
            const priceFilter = document.getElementById('price-filter').value;
            const ratingFilter = document.getElementById('rating-filter').value;
            const areaFilter = document.getElementById('area-filter').value;
            const sortFilter = document.getElementById('sort-filter').value;
            const searchInput = document.getElementById('search-input').value.toLowerCase();

            if (categoryFilter !== '전체') {
                filteredRestaurants = filteredRestaurants.filter(r => r.category === categoryFilter);
            }
            if (priceFilter !== '전체') {
                filteredRestaurants = filteredRestaurants.filter(r => r.price === priceFilter);
            }
            if (ratingFilter !== '전체') {
                const minRating = parseFloat(ratingFilter.replace('+', ''));
                filteredRestaurants = filteredRestaurants.filter(r => r.rating >= minRating);
            }
            if (areaFilter !== '전체') {
                filteredRestaurants = filteredRestaurants.filter(r => r.area === areaFilter);
            }
            if (searchInput) {
                filteredRestaurants = filteredRestaurants.filter(r => 
                    r.name.toLowerCase().includes(searchInput) || 
                    r.category.toLowerCase().includes(searchInput) ||
                    r.description.toLowerCase().includes(searchInput)
                );
            }

            // Apply sorting
            switch(sortFilter) {
                case '평점순':
                    filteredRestaurants.sort((a, b) => b.rating - a.rating);
                    break;
                case '리뷰순':
                    filteredRestaurants.sort((a, b) => b.reviews - a.reviews);
                    break;
                case '가격순':
                    filteredRestaurants.sort((a, b) => {
                        const priceOrder = {'1만원 이하': 1, '1-2만원': 2, '2-3만원': 3, '3만원 이상': 4};
                        return priceOrder[a.price] - priceOrder[b.price];
                    });
                    break;
                default: // 인기순
                    filteredRestaurants.sort((a, b) => {
                        if (a.trending && !b.trending) return -1;
                        if (!a.trending && b.trending) return 1;
                        return b.reviews - a.reviews;
                    });
            }

            container.innerHTML = filteredRestaurants.map(restaurant => `
                <div class="bg-white rounded-lg shadow-md card-hover p-4">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold text-lg">${restaurant.image} ${restaurant.name}</h4>
                        ${restaurant.trending ? '<span class="bg-red-500 text-white text-xs px-2 py-1 rounded">HOT</span>' : ''}
                    </div>
                    <div class="text-sm text-gray-600 mb-2">
                        <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2">${restaurant.category}</span>
                        <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded">${restaurant.price}</span>
                    </div>
                    <div class="flex items-center mb-2">
                        <span class="text-yellow-500">${'⭐'.repeat(Math.floor(restaurant.rating))}</span>
                        <span class="ml-1 font-bold">${restaurant.rating}</span>
                        <span class="ml-1 text-gray-500">(${restaurant.reviews})</span>
                    </div>
                    <p class="text-sm text-gray-700 mb-3">${restaurant.description}</p>
                    <div class="text-xs text-gray-500 mb-3">
                        <p>📍 ${restaurant.address}</p>
                        <p>📞 ${restaurant.phone}</p>
                        <p>🕐 ${restaurant.hours}</p>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="showLocation('${restaurant.address}')" class="flex-1 bg-green-500 text-white py-2 px-3 rounded text-sm hover:bg-green-600">
                            🗺️ 네이버지도
                        </button>
                        <button onclick="showLocation('${restaurant.address}')" class="flex-1 bg-blue-500 text-white py-2 px-3 rounded text-sm hover:bg-blue-600">
                            📱 카카오맵
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function renderAttractions() {
            const container = document.getElementById('attraction-list');
            let filteredAttractions = [...attractions];

            // Apply filters
            const categoryFilter = document.getElementById('attraction-category-filter').value;
            const timeFilter = document.getElementById('attraction-time-filter').value;
            const areaFilter = document.getElementById('attraction-area-filter').value;
            const sortFilter = document.getElementById('attraction-sort-filter').value;

            if (categoryFilter !== '전체') {
                filteredAttractions = filteredAttractions.filter(a => a.category === categoryFilter);
            }
            if (timeFilter !== '전체') {
                filteredAttractions = filteredAttractions.filter(a => a.time === timeFilter);
            }
            if (areaFilter !== '전체') {
                filteredAttractions = filteredAttractions.filter(a => a.area === areaFilter);
            }

            // Apply sorting
            switch(sortFilter) {
                case '평점순':
                    filteredAttractions.sort((a, b) => b.rating - a.rating);
                    break;
                case '거리순':
                    // This would require geolocation implementation
                    break;
                default: // 인기순
                    filteredAttractions.sort((a, b) => {
                        if (a.trending && !b.trending) return -1;
                        if (!a.trending && b.trending) return 1;
                        return b.reviews - a.reviews;
                    });
            }

            container.innerHTML = filteredAttractions.map(attraction => `
                <div class="bg-white rounded-lg shadow-md card-hover p-4">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold text-lg">${attraction.image} ${attraction.name}</h4>
                        ${attraction.trending ? '<span class="bg-red-500 text-white text-xs px-2 py-1 rounded">HOT</span>' : ''}
                    </div>
                    <div class="text-sm text-gray-600 mb-2">
                        <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded mr-2">${attraction.category}</span>
                        <span class="inline-block bg-orange-100 text-orange-800 px-2 py-1 rounded">${attraction.time}</span>
                    </div>
                    <div class="flex items-center mb-2">
                        <span class="text-yellow-500">${'⭐'.repeat(Math.floor(attraction.rating))}</span>
                        <span class="ml-1 font-bold">${attraction.rating}</span>
                        <span class="ml-1 text-gray-500">(${attraction.reviews})</span>
                    </div>
                    <p class="text-sm text-gray-700 mb-3">${attraction.description}</p>
                    <div class="text-xs text-gray-500 mb-3">
                        <p>📍 ${attraction.address}</p>
                        <p>💰 ${attraction.price}</p>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="showLocation('${attraction.address}')" class="flex-1 bg-green-500 text-white py-2 px-3 rounded text-sm hover:bg-green-600">
                            🗺️ 위치보기
                        </button>
                        <button onclick="bookTicket('${attraction.name}')" class="flex-1 bg-blue-500 text-white py-2 px-3 rounded text-sm hover:bg-blue-600">
                            🎫 예약하기
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function generateCourse() {
            const tripType = document.getElementById('trip-type').value;
            const budget = document.getElementById('budget-range').value;
            const style = document.getElementById('trip-style').value;

            const courseDisplay = document.getElementById('course-display');
            
            // Sample course generation based on selections
            let courses = [];
            
            if (style === '맛집투어') {
                courses = [
                    {
                        day: 'Day 1',
                        meals: [
                            { time: '조식 (09:00)', place: '로타리식당', menu: '게장백반', price: '12,000원' },
                            { time: '점심 (13:00)', place: '순이네밥상', menu: '갈치조림정식', price: '15,000원' },
                            { time: '저녁 (18:00)', place: '꽃돌게장1번가', menu: '꽃게정식', price: '35,000원' }
                        ]
                    },
                    {
                        day: 'Day 2',
                        meals: [
                            { time: '조식 (10:00)', place: '여수당', menu: '쑥아이스크림', price: '8,000원' },
                            { time: '점심 (12:00)', place: '정다운식당', menu: '게장백반', price: '30,000원' }
                        ]
                    }
                ];
            } else if (style === '관광위주') {
                courses = [
                    {
                        day: 'Day 1',
                        attractions: [
                            { time: '10:00', place: '아쿠아플라넷 여수', duration: '2-3시간', price: '39,000원' },
                            { time: '14:00', place: '오동도', duration: '2-3시간', price: '무료' },
                            { time: '17:00', place: '여수해상케이블카', duration: '1시간', price: '22,000원' }
                        ]
                    },
                    {
                        day: 'Day 2',
                        attractions: [
                            { time: '09:00', place: '향일암', duration: '반나절', price: '무료' },
                            { time: '14:00', place: '이순신광장', duration: '1시간', price: '무료' }
                        ]
                    }
                ];
            } else { // 균형형
                courses = [
                    {
                        day: 'Day 1',
                        schedule: [
                            { time: '09:00', type: '식사', place: '로타리식당', details: '게장백반 12,000원' },
                            { time: '11:00', type: '관광', place: '아쿠아플라넷 여수', details: '2-3시간, 39,000원' },
                            { time: '14:00', type: '식사', place: '순이네밥상', details: '갈치조림정식 15,000원' },
                            { time: '16:00', type: '관광', place: '오동도', details: '2-3시간, 무료' },
                            { time: '19:00', type: '식사', place: '꽃돌게장1번가', details: '꽃게정식 35,000원' }
                        ]
                    },
                    {
                        day: 'Day 2',
                        schedule: [
                            { time: '08:00', type: '관광', place: '향일암', details: '해돋이 명소, 무료' },
                            { time: '10:00', type: '식사', place: '여수당', details: '쑥아이스크림 8,000원' },
                            { time: '12:00', type: '관광', place: '여수해상케이블카', details: '1시간, 22,000원' },
                            { time: '14:00', type: '식사', place: '정다운식당', details: '게장백반 30,000원' }
                        ]
                    }
                ];
            }

            courseDisplay.innerHTML = courses.map(course => `
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h4 class="font-bold text-lg mb-4">${course.day}</h4>
                    ${course.meals ? course.meals.map(meal => `
                        <div class="flex items-center mb-3 p-3 bg-blue-50 rounded">
                            <div class="font-semibold text-blue-600 w-24">${meal.time}</div>
                            <div class="flex-1">
                                <div class="font-medium">${meal.place}</div>
                                <div class="text-sm text-gray-600">${meal.menu} - ${meal.price}</div>
                            </div>
                        </div>
                    `).join('') : ''}
                    ${course.attractions ? course.attractions.map(attraction => `
                        <div class="flex items-center mb-3 p-3 bg-green-50 rounded">
                            <div class="font-semibold text-green-600 w-24">${attraction.time}</div>
                            <div class="flex-1">
                                <div class="font-medium">${attraction.place}</div>
                                <div class="text-sm text-gray-600">${attraction.duration} - ${attraction.price}</div>
                            </div>
                        </div>
                    `).join('') : ''}
                    ${course.schedule ? course.schedule.map(item => `
                        <div class="flex items-center mb-3 p-3 ${item.type === '식사' ? 'bg-blue-50' : 'bg-green-50'} rounded">
                            <div class="font-semibold ${item.type === '식사' ? 'text-blue-600' : 'text-green-600'} w-24">${item.time}</div>
                            <div class="w-12 text-sm">${item.type === '식사' ? '🍽️' : '🏛️'}</div>
                            <div class="flex-1">
                                <div class="font-medium">${item.place}</div>
                                <div class="text-sm text-gray-600">${item.details}</div>
                            </div>
                        </div>
                    `).join('') : ''}
                </div>
            `).join('');
        }

        function renderPosts() {
            const container = document.getElementById('posts-list');
            container.innerHTML = posts.map(post => `
                <div class="bg-white rounded-lg shadow-md p-4">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold text-lg">${post.title}</h4>
                        <span class="text-xs bg-gray-100 px-2 py-1 rounded">${post.category}</span>
                    </div>
                    <div class="text-sm text-gray-600 mb-2">
                        ${post.author} • ${post.date} • ${post.restaurant} • ${'⭐'.repeat(post.rating)}
                    </div>
                    <p class="text-gray-700 mb-3">${post.content}</p>
                    <div class="flex items-center text-sm text-gray-500">
                        <button onclick="likePost(${post.id})" class="flex items-center space-x-1 hover:text-red-500">
                            <i class="far fa-heart"></i>
                            <span>${post.likes}</span>
                        </button>
                        <button class="ml-4 hover:text-blue-500">
                            <i class="far fa-comment"></i>
                            <span>댓글</span>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function submitPost() {
            const title = document.getElementById('post-title').value;
            const category = document.getElementById('post-category').value;
            const content = document.getElementById('post-content').value;
            const restaurant = document.getElementById('restaurant-name').value;
            const rating = parseInt(document.getElementById('rating').value);

            if (!title || !content) {
                alert('제목과 내용을 입력해주세요.');
                return;
            }

            const newPost = {
                id: posts.length + 1,
                title,
                category,
                content,
                restaurant: restaurant || '미입력',
                rating,
                author: '익명',
                date: new Date().toISOString().split('T')[0],
                likes: 0
            };

            posts.unshift(newPost);
            renderPosts();

            // Reset form
            document.getElementById('post-title').value = '';
            document.getElementById('post-content').value = '';
            document.getElementById('restaurant-name').value = '';
        }

        function likePost(postId) {
            const post = posts.find(p => p.id === postId);
            if (post) {
                post.likes++;
                renderPosts();
            }
        }

        function showLocation(address) {
            const encoded = encodeURIComponent(address);
            window.open(`https://map.naver.com/v5/search/${encoded}`, '_blank');
        }

        function bookTicket(attractionName) {
            alert(`${attractionName} 예약 페이지로 이동합니다.`);
        }

        // Admin Functions
        function toggleAdmin() {
            const panel = document.getElementById('admin-panel');
            isAdminMode = !isAdminMode;
            panel.style.display = isAdminMode ? 'block' : 'none';
            
            if (isAdminMode) {
                renderAdminData();
                renderStats();
            }
        }

        function showAdminTab(tabId) {
            // Hide all admin content
            document.querySelectorAll('.admin-content').forEach(content => {
                content.style.display = 'none';
            });
            
            // Show selected content
            document.getElementById(tabId).style.display = 'block';
            
            // Update tab buttons
            document.querySelectorAll('.admin-tab-btn').forEach(btn => {
                btn.className = 'admin-tab-btn px-4 py-2 rounded bg-gray-300';
            });
            event.target.className = 'admin-tab-btn active px-4 py-2 rounded bg-blue-500 text-white';
        }

        function renderAdminData() {
            // Restaurant admin list
            const restaurantList = document.getElementById('restaurant-admin-list');
            restaurantList.innerHTML = restaurants.map(restaurant => `
                <div class="flex justify-between items-center p-3 border rounded">
                    <div>
                        <span class="font-medium">${restaurant.name}</span>
                        <span class="text-sm text-gray-500 ml-2">(${restaurant.category})</span>
                    </div>
                    <div class="space-x-2">
                        <button onclick="editItem('restaurant', ${restaurant.id})" class="text-blue-500 hover:text-blue-700">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button onclick="deleteItem('restaurant', ${restaurant.id})" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `).join('');

            // Attraction admin list
            const attractionList = document.getElementById('attraction-admin-list');
            attractionList.innerHTML = attractions.map(attraction => `
                <div class="flex justify-between items-center p-3 border rounded">
                    <div>
                        <span class="font-medium">${attraction.name}</span>
                        <span class="text-sm text-gray-500 ml-2">(${attraction.category})</span>
                    </div>
                    <div class="space-x-2">
                        <button onclick="editItem('attraction', ${attraction.id})" class="text-blue-500 hover:text-blue-700">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button onclick="deleteItem('attraction', ${attraction.id})" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `).join('');

            // Categories
            const restaurantCategories = document.getElementById('restaurant-categories');
            restaurantCategories.innerHTML = categories.restaurant.map(cat => `
                <div class="flex justify-between items-center p-2 border rounded">
                    <span>${cat}</span>
                    <button onclick="deleteCategory('restaurant', '${cat}')" class="text-red-500 text-sm">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `).join('');

            const attractionCategories = document.getElementById('attraction-categories');
            attractionCategories.innerHTML = categories.attraction.map(cat => `
                <div class="flex justify-between items-center p-2 border rounded">
                    <span>${cat}</span>
                    <button onclick="deleteCategory('attraction', '${cat}')" class="text-red-500 text-sm">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `).join('');
        }

        function renderStats() {
            // Category distribution chart
            const ctx1 = document.getElementById('categoryChart').getContext('2d');
            const categoryData = {};
            restaurants.forEach(r => {
                categoryData[r.category] = (categoryData[r.category] || 0) + 1;
            });

            new Chart(ctx1, {
                type: 'pie',
                data: {
                    labels: Object.keys(categoryData),
                    datasets: [{
                        data: Object.values(categoryData),
                        backgroundColor: ['#667eea', '#764ba2', '#f093fb', '#f5576c', '#4facfe']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: '맛집 카테고리 분포'
                        }
                    }
                }
            });

            // Rating distribution chart
            const ctx2 = document.getElementById('ratingChart').getContext('2d');
            const ratingData = {};
            restaurants.forEach(r => {
                const rating = Math.floor(r.rating);
                ratingData[rating + '점'] = (ratingData[rating + '점'] || 0) + 1;
            });

            new Chart(ctx2, {
                type: 'bar',
                data: {
                    labels: Object.keys(ratingData),
                    datasets: [{
                        label: '맛집 수',
                        data: Object.values(ratingData),
                        backgroundColor: '#667eea'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: '평점별 맛집 분포'
                        }
                    }
                }
            });
        }

        function showAddForm(type) {
            editingItem = null;
            const modal = document.getElementById('form-modal');
            const title = document.getElementById('form-title');
            const form = document.getElementById('item-form');

            title.textContent = type === 'restaurant' ? '새 맛집 추가' : '새 관광지 추가';

            if (type === 'restaurant') {
                form.innerHTML = `
                    <input type="text" id="edit-name" placeholder="맛집명" class="w-full border rounded px-3 py-2" required>
                    <select id="edit-category" class="w-full border rounded px-3 py-2" required>
                        ${categories.restaurant.map(cat => `<option value="${cat}">${cat}</option>`).join('')}
                    </select>
                    <select id="edit-price" class="w-full border rounded px-3 py-2" required>
                        <option value="1만원 이하">1만원 이하</option>
                        <option value="1-2만원">1-2만원</option>
                        <option value="2-3만원">2-3만원</option>
                        <option value="3만원 이상">3만원 이상</option>
                    </select>
                    <input type="number" id="edit-rating" placeholder="평점 (1-5)" min="1" max="5" step="0.1" class="w-full border rounded px-3 py-2" required>
                    <input type="number" id="edit-reviews" placeholder="리뷰 수" class="w-full border rounded px-3 py-2" required>
                    <select id="edit-area" class="w-full border rounded px-3 py-2" required>
                        <option value="시내">시내</option>
                        <option value="돌산">돌산</option>
                        <option value="소호동">소호동</option>
                        <option value="웅천">웅천</option>
                    </select>
                    <input type="text" id="edit-address" placeholder="주소" class="w-full border rounded px-3 py-2" required>
                    <input type="text" id="edit-phone" placeholder="전화번호" class="w-full border rounded px-3 py-2">
                    <input type="text" id="edit-hours" placeholder="영업시간" class="w-full border rounded px-3 py-2">
                    <textarea id="edit-description" placeholder="설명" class="w-full border rounded px-3 py-2 h-20"></textarea>
                    <input type="text" id="edit-image" placeholder="이모지" class="w-full border rounded px-3 py-2">
                `;
            } else {
                form.innerHTML = `
                    <input type="text" id="edit-name" placeholder="관광지명" class="w-full border rounded px-3 py-2" required>
                    <select id="edit-category" class="w-full border rounded px-3 py-2" required>
                        ${categories.attraction.map(cat => `<option value="${cat}">${cat}</option>`).join('')}
                    </select>
                    <select id="edit-time" class="w-full border rounded px-3 py-2" required>
                        <option value="1시간 이내">1시간 이내</option>
                        <option value="2-3시간">2-3시간</option>
                        <option value="반나절">반나절</option>
                        <option value="하루종일">하루종일</option>
                    </select>
                    <input type="number" id="edit-rating" placeholder="평점 (1-5)" min="1" max="5" step="0.1" class="w-full border rounded px-3 py-2" required>
                    <input type="number" id="edit-reviews" placeholder="리뷰 수" class="w-full border rounded px-3 py-2" required>
                    <select id="edit-area" class="w-full border rounded px-3 py-2" required>
                        <option value="시내">시내</option>
                        <option value="돌산">돌산</option>
                        <option value="거문도">거문도</option>
                        <option value="기타">기타</option>
                    </select>
                    <input type="text" id="edit-address" placeholder="주소" class="w-full border rounded px-3 py-2" required>
                    <input type="text" id="edit-price" placeholder="입장료" class="w-full border rounded px-3 py-2">
                    <textarea id="edit-description" placeholder="설명" class="w-full border rounded px-3 py-2 h-20"></textarea>
                    <input type="text" id="edit-image" placeholder="이모지" class="w-full border rounded px-3 py-2">
                `;
            }

            modal.style.display = 'block';
        }

        function editItem(type, id) {
            const item = type === 'restaurant' ? restaurants.find(r => r.id === id) : attractions.find(a => a.id === id);
            if (!item) return;

            editingItem = { type, id };
            showAddForm(type);

            // Populate form with existing data
            document.getElementById('edit-name').value = item.name;
            document.getElementById('edit-category').value = item.category;
            document.getElementById('edit-rating').value = item.rating;
            document.getElementById('edit-reviews').value = item.reviews;
            document.getElementById('edit-area').value = item.area;
            document.getElementById('edit-address').value = item.address;
            document.getElementById('edit-description').value = item.description;
            document.getElementById('edit-image').value = item.image;

            if (type === 'restaurant') {
                document.getElementById('edit-price').value = item.price;
                document.getElementById('edit-phone').value = item.phone;
                document.getElementById('edit-hours').value = item.hours;
            } else {
                document.getElementById('edit-time').value = item.time;
                document.getElementById('edit-price').value = item.price;
            }

            document.getElementById('form-title').textContent = type === 'restaurant' ? '맛집 수정' : '관광지 수정';
        }

        function saveItem() {
            const name = document.getElementById('edit-name').value;
            const category = document.getElementById('edit-category').value;
            const rating = parseFloat(document.getElementById('edit-rating').value);
            const reviews = parseInt(document.getElementById('edit-reviews').value);
            const area = document.getElementById('edit-area').value;
            const address = document.getElementById('edit-address').value;
            const description = document.getElementById('edit-description').value;
            const image = document.getElementById('edit-image').value;

            if (!name || !category || !rating || !reviews || !area || !address) {
                alert('필수 항목을 모두 입력해주세요.');
                return;
            }

            if (editingItem) {
                // Edit existing item
                if (editingItem.type === 'restaurant') {
                    const restaurant = restaurants.find(r => r.id === editingItem.id);
                    restaurant.name = name;
                    restaurant.category = category;
                    restaurant.price = document.getElementById('edit-price').value;
                    restaurant.rating = rating;
                    restaurant.reviews = reviews;
                    restaurant.area = area;
                    restaurant.address = address;
                    restaurant.phone = document.getElementById('edit-phone').value;
                    restaurant.hours = document.getElementById('edit-hours').value;
                    restaurant.description = description;
                    restaurant.image = image;
                } else {
                    const attraction = attractions.find(a => a.id === editingItem.id);
                    attraction.name = name;
                    attraction.category = category;
                    attraction.time = document.getElementById('edit-time').value;
                    attraction.rating = rating;
                    attraction.reviews = reviews;
                    attraction.area = area;
                    attraction.address = address;
                    attraction.price = document.getElementById('edit-price').value;
                    attraction.description = description;
                    attraction.image = image;
                }
            } else {
                // Add new item
                if (document.getElementById('edit-phone')) {
                    // Restaurant
                    const newId = Math.max(...restaurants.map(r => r.id)) + 1;
                    restaurants.push({
                        id: newId,
                        name,
                        category,
                        price: document.getElementById('edit-price').value,
                        rating,
                        reviews,
                        area,
                        address,
                        phone: document.getElementById('edit-phone').value,
                        hours: document.getElementById('edit-hours').value,
                        description,
                        image,
                        trending: false
                    });
                } else {
                    // Attraction
                    const newId = Math.max(...attractions.map(a => a.id)) + 1;
                    attractions.push({
                        id: newId,
                        name,
                        category,
                        time: document.getElementById('edit-time').value,
                        rating,
                        reviews,
                        area,
                        address,
                        price: document.getElementById('edit-price').value,
                        description,
                        image,
                        trending: false
                    });
                }
            }

            closeForm();
            renderAdminData();
            renderRestaurants();
            renderAttractions();
        }

        function deleteItem(type, id) {
            if (!confirm('정말 삭제하시겠습니까?')) return;

            if (type === 'restaurant') {
                const index = restaurants.findIndex(r => r.id === id);
                if (index !== -1) {
                    restaurants.splice(index, 1);
                    renderRestaurants();
                }
            } else {
                const index = attractions.findIndex(a => a.id === id);
                if (index !== -1) {
                    attractions.splice(index, 1);
                    renderAttractions();
                }
            }

            renderAdminData();
        }

        function deleteCategory(type, category) {
            if (!confirm(`"${category}" 카테고리를 삭제하시겠습니까?`)) return;

            const index = categories[type].indexOf(category);
            if (index !== -1) {
                categories[type].splice(index, 1);
                renderAdminData();
            }
        }

        function closeForm() {
            document.getElementById('form-modal').style.display = 'none';
            editingItem = null;
        }

        // Initialize PWA features
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(function(err) {
                        console.log('ServiceWorker registration failed');
                    });
            });
        }
    </script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDj5fzzrr3r%2Fw1RjejBhpGB9WM8FS3NuRkEWKnFI7tFuZTwlLmBHnByJQUThgl5xdJXcQ83EShHOPEil0j80UDY1oersUvRZ9aLyg9E06a2UAo%2BStE2y4COQgXXG1kAJnTO5gPG3JBZVnk1gpo%2Bay%2FrEY8jM0QaSICJl9rMXtuRZba0zY8vYzoEEJb4uR%2BAkDaX%2BYnW2lxTUsuP0BsQgGogS3ieGJe%2FR3DHq0N1RaUdOY9RyxrYH0kuUwfXYreiMFx6zr3e3XvSK0UTfXBBv1UWS%2Fiq9qniiL7vN%2BNmfpmXUYoBOEO81IT3WpsgL0tCgEv%2Bqkos2v06P9mW5RP8Mahg4GJiaDEROPXdsgLXc%2F8Q4Ymo7squSB2oRQpNr8NBOCbyE9qLfJnES7ixmrA1oQjEYfwDFTr2z21VIpo2a%2FO%2Bb5j56ypY%2BxIDudmaZk3ASsfZ8cfNIn3xATkt1Cb%2Bh8d9pKKX1ms0DAFyWWzXGFqSkrFad7vte9pvvXUHMqUcI2KPr%2B1sOu3e1umcec4TZyWuM%3D";
        window.__genspark_locale = "ko-KR";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDj5fzzrr3r/w1RjejBhpGB9WM8FS3NuRkEWKnFI7tFuZTwlLmBHnByJQUThgl5xdJXcQ83EShHOPEil0j80UDY1oersUvRZ9aLyg9E06a2UAo+StE2y4COQgXXG1kAJnTO5gPG3JBZVnk1gpo+ay/rEY8jM0QaSICJl9rMXtuRZba0zY8vYzoEEJb4uR+AkDaX+YnW2lxTUsuP0BsQgGogS3ieGJe/R3DHq0N1RaUdOY9RyxrYH0kuUwfXYreiMFx6zr3e3XvSK0UTfXBBv1UWS/iq9qniiL7vN+NmfpmXUYoBOEO81IT3WpsgL0tCgEv+qkos2v06P9mW5RP8Mahg4GJiaDEROPXdsgLXc/8Q4Ymo7squSB2oRQpNr8NBOCbyE9qLfJnES7ixmrA1oQjEYfwDFTr2z21VIpo2a/O+b5j56ypY+xIDudmaZk3ASsfZ8cfNIn3xATkt1Cb+h8d9pKKX1ms0DAFyWWzXGFqSkrFad7vte9pvvXUHMqUcI2KPr+1sOu3e1umcec4TZyWuM=";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    